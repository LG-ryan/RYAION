# ğŸ  ngrok + ë¡œì»¬ ì™„ì „ ê°€ì´ë“œ (100% ë¬´ë£Œ)

**ì „ëµ**: PCì—ì„œ ëª¨ë“  ê²ƒì„ ì‹¤í–‰ (ì‹ í˜¸ ìˆ˜ì§‘ + í•™ìŠµ + ëŒ€ì‹œë³´ë“œ)

---

## ğŸ¯ ì™œ ngrok + ë¡œì»¬?

### âœ… ì¥ì 
```
âœ… ì™„ì „ ë¬´ë£Œ ($0/ì›”)
âœ… ë¬´ì œí•œ í•™ìŠµ (ë¡œì»¬ PC ì„±ëŠ¥ ìµœëŒ€ í™œìš©)
âœ… ë¹ ë¥¸ ì†ë„ (í´ë¼ìš°ë“œë³´ë‹¤ ë¹ ë¦„)
âœ… ë°ì´í„° ì™„ì „ ì œì–´ (SQLite)
âœ… ì„¤ì • ê°„ë‹¨ (10ë¶„)
âœ… íŠ¸ë ˆì´ë”©í•  ë•Œ ì–´ì°¨í”¼ PC ì¼œì ¸ìˆìŒ
```

### âš ï¸ ë‹¨ì  (í˜„ì‹¤ì  ê´€ì )
```
âš ï¸ PC êº¼ì§€ë©´ ì‹ í˜¸ ëª» ë°›ìŒ
   â†’ í•˜ì§€ë§Œ íŠ¸ë ˆì´ë”©í•  ë•Œ ì–´ì°¨í”¼ ì¼œì ¸ìˆìŒ
   â†’ ì‹ í˜¸ ë†“ì³ë„ ë‹¤ìŒ ì‹ í˜¸ ë°›ìœ¼ë©´ ë¨ (Stage Detectionì€ ìì£¼ ì•ˆ ë°”ë€œ)

âš ï¸ ngrok 2ì‹œê°„ë§ˆë‹¤ ì¬ì‹œì‘ í•„ìš”
   â†’ ìë™í™” ìŠ¤í¬ë¦½íŠ¸ë¡œ í•´ê²° (ì•„ë˜ ì œê³µ)

âš ï¸ ngrok URL ë°”ë€” ë•Œë§ˆë‹¤ TradingView Alert ìˆ˜ì •
   â†’ Free planì˜ ë¶ˆê°€í”¼í•œ ë¶€ë¶„ (5ì´ˆ ì†Œìš”)
   â†’ ìœ ë£Œ($10/ì›”) ì‹œ ê³ ì • URL ê°€ëŠ¥
```

---

## ğŸ“Š ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              TradingView Alert                      â”‚
â”‚             (BUY/SELL Signal)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚ Webhook
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   ngrok (Free, 2ì‹œê°„ë§ˆë‹¤ ì¬ì‹œì‘)                     â”‚
â”‚   https://abc123.ngrok-free.app â†’ localhost:8000   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         ë¡œì»¬ PC (C:\Users\ryanj\RYAION\vmsi-sdm)    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ FastAPI (port 8000)                            â”‚ â”‚
â”‚  â”‚  - Webhook ìˆ˜ì‹                                 â”‚ â”‚
â”‚  â”‚  - /health, /api/signals ì—”ë“œí¬ì¸íŠ¸            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                   â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ SQLite (vmsi_sdm.db)                           â”‚ â”‚
â”‚  â”‚  - signals í…Œì´ë¸” (TradingView ì‹ í˜¸)           â”‚ â”‚
â”‚  â”‚  - experiments í…Œì´ë¸” (Optuna ê²°ê³¼)            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                   â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Optuna Learning (ë¬´ì œí•œ!)                      â”‚ â”‚
â”‚  â”‚  - Windows Task Scheduler (ë§¤ì¼ ìƒˆë²½ 2ì‹œ)      â”‚ â”‚
â”‚  â”‚  - ìˆ˜ë™ ì‹¤í–‰ (run_learning.bat)                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                   â†“                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ Streamlit Dashboard (port 8501)                â”‚ â”‚
â”‚  â”‚  - ì‹¤ì‹œê°„ ì‹ í˜¸ ëª¨ë‹ˆí„°ë§                         â”‚ â”‚
â”‚  â”‚  - í•™ìŠµ ê²°ê³¼ ì‹œê°í™”                            â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Part 1: ngrok ì„¤ì¹˜ ë° ì„¤ì • (2ë¶„)

### Step 1.1: ngrok ë‹¤ìš´ë¡œë“œ

```
1. https://ngrok.com/ ì ‘ì†
2. "Sign up" (ë¬´ë£Œ ê³„ì • ìƒì„±)
3. "Download" â†’ Windows 64-bit ë‹¤ìš´ë¡œë“œ
4. ngrok.exe ì••ì¶• í•´ì œ
5. C:\Users\ryanj\RYAION\vmsi-sdm\ í´ë”ì— ë³µì‚¬
```

---

### Step 1.2: ngrok ì¸ì¦

```bash
# PowerShell
cd C:\Users\ryanj\RYAION\vmsi-sdm

# ngrok ëŒ€ì‹œë³´ë“œì—ì„œ Authtoken ë³µì‚¬ í›„ ì‹¤í–‰
.\ngrok.exe config add-authtoken YOUR_AUTH_TOKEN_HERE
```

**ì˜ˆì‹œ**:
```bash
.\ngrok.exe config add-authtoken 2abCdEfGhIjKlMnOpQrStUvWxYz_1234567890ABCDEFG
```

âœ… **Authtoken ì €ì¥ ì™„ë£Œ!**

---

### Step 1.3: ngrok í…ŒìŠ¤íŠ¸

```bash
# FastAPI ì„œë²„ê°€ ì‹¤í–‰ ì¤‘ì´ì–´ì•¼ í•¨ (port 8000)
# í„°ë¯¸ë„ 1: FastAPI ì‹¤í–‰
cd C:\Users\ryanj\RYAION\vmsi-sdm
uvicorn server.app:app --host 0.0.0.0 --port 8000

# í„°ë¯¸ë„ 2: ngrok ì‹¤í–‰
cd C:\Users\ryanj\RYAION\vmsi-sdm
.\ngrok.exe http 8000
```

**ì˜ˆìƒ ì¶œë ¥**:
```
ngrok

Session Status                online
Account                       your-email@example.com
Version                       3.x.x
Region                        United States (us)
Latency                       -
Web Interface                 http://127.0.0.1:4040
Forwarding                    https://abc123.ngrok-free.app -> http://localhost:8000

Connections                   ttl     opn     rt1     rt5     p50     p90
                              0       0       0.00    0.00    0.00    0.00
```

âœ… **Public URL**: `https://abc123.ngrok-free.app`

---

## ğŸ–¥ï¸ Part 2: ë¡œì»¬ ì„œë²„ í™˜ê²½ ì„¤ì • (5ë¶„)

### Step 2.1: Python íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
cd C:\Users\ryanj\RYAION\vmsi-sdm
pip install -r requirements.txt
```

**ì„¤ì¹˜ë˜ëŠ” ê²ƒë“¤**:
- FastAPI, Uvicorn (ì›¹ ì„œë²„)
- SQLAlchemy (ë°ì´í„°ë² ì´ìŠ¤)
- Optuna (í•™ìŠµ)
- Streamlit (ëŒ€ì‹œë³´ë“œ)
- pandas, numpy (ë°ì´í„° ì²˜ë¦¬)

---

### Step 2.2: ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”

```bash
# ìë™ìœ¼ë¡œ vmsi_sdm.db ìƒì„±ë¨
python -c "from server.db import init_db; init_db()"
```

**ì˜ˆìƒ ì¶œë ¥**:
```
[OK] Database initialized
[OK] Created table: signals
[OK] Created table: experiments
```

âœ… **SQLite ë°ì´í„°ë² ì´ìŠ¤ ìƒì„± ì™„ë£Œ!**

---

### Step 2.3: FastAPI ì„œë²„ ì‹œì‘

```bash
# start_server.bat ì‹¤í–‰ ë˜ëŠ”:
uvicorn server.app:app --host 0.0.0.0 --port 8000 --reload
```

**í™•ì¸**:
- ë¸Œë¼ìš°ì €: http://localhost:8000/health
- ì‘ë‹µ: `{"status":"healthy"}`

---

### Step 2.4: Streamlit ëŒ€ì‹œë³´ë“œ ì‹œì‘

```bash
# ìƒˆ í„°ë¯¸ë„
cd C:\Users\ryanj\RYAION\vmsi-sdm
streamlit run dashboard\app.py --server.port 8501
```

**í™•ì¸**:
- ë¸Œë¼ìš°ì €: http://localhost:8501
- ëŒ€ì‹œë³´ë“œ í‘œì‹œë¨

---

## ğŸ¤– Part 3: ngrok ìë™í™” (ì¤‘ìš”!)

### Step 3.1: ngrok ìë™ ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸

**íŒŒì¼**: `vmsi-sdm/start_ngrok.bat`

```batch
@echo off
REM â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
REM ngrok ìë™ ì‹œì‘ (2ì‹œê°„ë§ˆë‹¤ ì¬ì‹œì‘)
REM â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

cd /d "%~dp0"

echo [INFO] Starting ngrok tunnel...
echo [INFO] Forwarding: https://???.ngrok-free.app -> http://localhost:8000
echo.

REM ngrok ì‹¤í–‰ (ë°±ê·¸ë¼ìš´ë“œ)
start "" ngrok.exe http 8000

echo [OK] ngrok started!
echo [INFO] Check URL at: http://127.0.0.1:4040
echo.
echo âš ï¸  ngrok Free plan: Session expires after 2 hours
echo âš ï¸  Restart this script every 2 hours
echo.
pause
```

---

### Step 3.2: í†µí•© ì‹œì‘ ìŠ¤í¬ë¦½íŠ¸ ì—…ë°ì´íŠ¸

**íŒŒì¼**: `vmsi-sdm/start_all.bat` (ìˆ˜ì •)

```batch
@echo off
REM â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
REM VMSI-SDM í†µí•© ì‹œì‘ (ë¡œì»¬ í™˜ê²½)
REM â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

echo.
echo â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
echo â•‘       VMSI-SDM Local Setup (ngrok + SQLite)       â•‘
echo â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.

cd /d "%~dp0"

REM 1. FastAPI ì„œë²„ ì‹œì‘ (ë°±ê·¸ë¼ìš´ë“œ)
echo [1/3] Starting FastAPI server...
start "FastAPI" cmd /k "uvicorn server.app:app --host 0.0.0.0 --port 8000 --reload"
timeout /t 3 /nobreak > nul

REM 2. ngrok í„°ë„ ì‹œì‘ (ë°±ê·¸ë¼ìš´ë“œ)
echo [2/3] Starting ngrok tunnel...
start "ngrok" cmd /k "ngrok.exe http 8000"
timeout /t 3 /nobreak > nul

REM 3. Streamlit ëŒ€ì‹œë³´ë“œ ì‹œì‘ (ë°±ê·¸ë¼ìš´ë“œ)
echo [3/3] Starting Streamlit dashboard...
start "Streamlit" cmd /k "streamlit run dashboard\app.py --server.port 8501"
timeout /t 3 /nobreak > nul

echo.
echo [OK] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo [OK] All services started!
echo [OK] â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
echo.
echo ğŸ“ FastAPI:    http://localhost:8000
echo ğŸ“ ngrok Web:  http://localhost:4040 (Check public URL)
echo ğŸ“ Streamlit:  http://localhost:8501
echo.
echo âš ï¸  ngrok URL: Copy from http://localhost:4040
echo âš ï¸  Update TradingView Alert with new URL
echo.
pause
```

---

### Step 3.3: ngrok URL ìë™ í™•ì¸ ìŠ¤í¬ë¦½íŠ¸

**íŒŒì¼**: `vmsi-sdm/check_ngrok_url.bat`

```batch
@echo off
REM ngrok Public URL í™•ì¸
echo.
echo [INFO] Checking ngrok URL...
echo.

curl -s http://localhost:4040/api/tunnels | python -c "import sys, json; data=json.load(sys.stdin); print('[OK] ngrok Public URL:'); print(data['tunnels'][0]['public_url'])" 2>nul

if %ERRORLEVEL% NEQ 0 (
    echo [ERROR] ngrok not running or curl/python not available
    echo [INFO] Check manually: http://localhost:4040
)

echo.
pause
```

---

## ğŸ”” Part 4: TradingView Alert ì„¤ì •

### Step 4.1: ngrok Public URL í™•ì¸

```
ë°©ë²• 1: ë¸Œë¼ìš°ì €
- http://localhost:4040 ì ‘ì†
- "Forwarding" í•­ëª©ì—ì„œ https://???.ngrok-free.app ë³µì‚¬

ë°©ë²• 2: check_ngrok_url.bat ì‹¤í–‰
- ìë™ìœ¼ë¡œ URL ì¶œë ¥

ë°©ë²• 3: ngrok í„°ë¯¸ë„
- ngrok ì‹¤í–‰í•œ í„°ë¯¸ë„ì—ì„œ "Forwarding" í™•ì¸
```

**ì˜ˆì‹œ**: `https://abc123-def456.ngrok-free.app`

---

### Step 4.2: TradingView Alert ìƒì„±

```
1. TradingView ì°¨íŠ¸ì— VMSI-SDM Indicator ì¶”ê°€
2. Alert ìƒì„± (Alt + A)

Condition:
- VMSI-SDM v2
- alert() function calls only

Options:
- â˜‘ Once Per Bar Close

Webhook URL:
https://abc123-def456.ngrok-free.app/webhook/tv

âš ï¸ ngrok URLì€ 2ì‹œê°„ë§ˆë‹¤ ë°”ë€Œë¯€ë¡œ Alert ìˆ˜ì • í•„ìš”!
```

---

### Step 4.3: ngrok URL ë³€ê²½ ì‹œ Alert ì—…ë°ì´íŠ¸

```
2ì‹œê°„ë§ˆë‹¤:
1. start_ngrok.bat ì¬ì‹¤í–‰
2. http://localhost:4040ì—ì„œ ìƒˆ URL í™•ì¸
3. TradingView Alert í¸ì§‘
4. Webhook URL ì—…ë°ì´íŠ¸
5. ì €ì¥
```

**â±ï¸ ì†Œìš” ì‹œê°„**: 30ì´ˆ

---

## ğŸ§ª Part 5: ì „ì²´ í…ŒìŠ¤íŠ¸

### Test 1: FastAPI Health Check

```bash
curl http://localhost:8000/health
```

**ì˜ˆìƒ ì‘ë‹µ**:
```json
{"status":"healthy"}
```

---

### Test 2: ngrok í„°ë„ í…ŒìŠ¤íŠ¸

```bash
# ngrok Public URLë¡œ í…ŒìŠ¤íŠ¸
curl https://abc123.ngrok-free.app/health
```

**ì˜ˆìƒ ì‘ë‹µ**:
```json
{"status":"healthy"}
```

---

### Test 3: Webhook ì‹ í˜¸ ì „ì†¡ í…ŒìŠ¤íŠ¸

```bash
# PowerShell
$url = "https://abc123.ngrok-free.app/webhook/tv"
$body = @{
    ts_unix = 1730188800000
    symbol = "TEST"
    timeframe = "1D"
    action = "BUY"
    price = 100.5
    trend_score = 75.5
    prob = 0.68
    rsi = 58.5
    vol_mult = 1.5
    vcp_ratio = 0.12
    dist_ath = 0.05
    ema1 = 99.0
    ema2 = 98.0
    bar_state = "close"
    fast_mode = $false
    realtime_macro = $false
    version = "vmsi_sdm_v2.1"
} | ConvertTo-Json

Invoke-RestMethod -Uri $url -Method Post -Body $body -ContentType "application/json"
```

**ì˜ˆìƒ ì‘ë‹µ**:
```json
{
  "status": "success",
  "signal_id": 1,
  "message": "Signal saved"
}
```

---

### Test 4: Streamlit ëŒ€ì‹œë³´ë“œ í™•ì¸

```
http://localhost:8501

âœ… "ìµœê·¼ ì‹ í˜¸ ëª©ë¡"ì— TEST ì‹ í˜¸ í‘œì‹œ
```

---

### Test 5: ë¡œì»¬ í•™ìŠµ í…ŒìŠ¤íŠ¸

```bash
cd C:\Users\ryanj\RYAION\vmsi-sdm
.\run_learning.bat
```

**ì˜ˆìƒ ì¶œë ¥** (ì‹ í˜¸ 10ê°œ ì´ìƒ ìˆì„ ë•Œ):
```
[INFO] Starting VMSI-SDM Optuna Learning Loop
[Trial 1/200] Score: 0.234
[Trial 2/200] Score: 0.289
...
[OK] Best parameters saved to: presets\preset_B_candidate.json
```

---

## ğŸ¤– Part 6: Windows Task Scheduler (ìë™ í•™ìŠµ)

### Step 6.1: ì‘ì—… ìƒì„±

```
1. Windows ê²€ìƒ‰ â†’ "ì‘ì—… ìŠ¤ì¼€ì¤„ëŸ¬"
2. "ì‘ì—… ë§Œë“¤ê¸°" í´ë¦­

ì¼ë°˜:
- ì´ë¦„: VMSI-SDM Optuna Learning
- ì‚¬ìš©ìê°€ ë¡œê·¸ì˜¨í•  ë•Œë§Œ ì‹¤í–‰

íŠ¸ë¦¬ê±°:
- ì‘ì—… ì‹œì‘: ì¼ì •ì— ë”°ë¼
- ë°˜ë³µ ê°„ê²©: ë§¤ì¼
- ì‹œì‘ ì‹œê°„: ì˜¤ì „ 2:00

ë™ì‘:
- í”„ë¡œê·¸ë¨/ìŠ¤í¬ë¦½íŠ¸: C:\Users\ryanj\RYAION\vmsi-sdm\run_learning.bat

ì¡°ê±´:
- AC ì „ì› ì²´í¬ í•´ì œ

ì„¤ì •:
- ìƒˆ ì¸ìŠ¤í„´ìŠ¤ ì‹œì‘ ì•ˆ í•¨

3. í™•ì¸ í´ë¦­
```

âœ… **ë§¤ì¼ ìƒˆë²½ 2ì‹œ ìë™ í•™ìŠµ!**

---

## ğŸ“Š ë¹„ìš© ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   â”‚ í´ë¼ìš°ë“œ  â”‚ ngrok + ë¡œì»¬ â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì›” ë¹„ìš©           â”‚ $7~10    â”‚ $0          â”‚
â”‚ í•™ìŠµ trials ì œí•œ  â”‚ 50~100   â”‚ ë¬´ì œí•œ!      â”‚
â”‚ í•™ìŠµ ì†ë„         â”‚ ëŠë¦¼     â”‚ ë¹ ë¦„!        â”‚
â”‚ ë°ì´í„° ì œì–´       â”‚ ì œí•œì    â”‚ ì™„ì „ ì œì–´    â”‚
â”‚ ì„¤ì • ë³µì¡ë„       â”‚ ë†’ìŒ     â”‚ ë‚®ìŒ         â”‚
â”‚ ìœ ì§€ë³´ìˆ˜          â”‚ ìë™     â”‚ ìˆ˜ë™ (2ì‹œê°„) â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ê²°ë¡ : ngrok + ë¡œì»¬ì´ ì••ë„ì ìœ¼ë¡œ ìš°ìˆ˜! ğŸ’ª
```

---

## ğŸ¯ ì¼ì¼ ë£¨í‹´

### íŠ¸ë ˆì´ë”© ì‹œì‘ ì‹œ
```
1. start_all.bat ì‹¤í–‰ (FastAPI + ngrok + Streamlit)
2. http://localhost:4040ì—ì„œ ngrok URL í™•ì¸
3. TradingView Alert URL ì—…ë°ì´íŠ¸ (ì²« ì‹¤í–‰ ì‹œë§Œ)
```

### 2ì‹œê°„ë§ˆë‹¤ (ngrok ì„¸ì…˜ ë§Œë£Œ ì‹œ)
```
1. ngrok í„°ë¯¸ë„ì—ì„œ Ctrl+C (ì¢…ë£Œ)
2. start_ngrok.bat ì¬ì‹¤í–‰
3. ìƒˆ URL í™•ì¸ â†’ TradingView Alert ì—…ë°ì´íŠ¸
```

### íŠ¸ë ˆì´ë”© ì¢…ë£Œ ì‹œ
```
ëª¨ë“  í„°ë¯¸ë„ ë‹«ê¸° (ìë™ ì¢…ë£Œ)
```

---

## ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### âŒ ngrok: "Session Expired"
```
ì›ì¸: 2ì‹œê°„ ì„¸ì…˜ ë§Œë£Œ (Free plan)
í•´ê²°:
1. ngrok í„°ë¯¸ë„ ë‹«ê¸°
2. start_ngrok.bat ì¬ì‹¤í–‰
3. ìƒˆ URLë¡œ TradingView Alert ì—…ë°ì´íŠ¸
```

### âŒ FastAPI ì‹œì‘ ì•ˆ ë¨
```
ì›ì¸: Port 8000 ì´ë¯¸ ì‚¬ìš© ì¤‘
í•´ê²°:
1. taskkill /f /im uvicorn.exe
2. start_server.bat ì¬ì‹¤í–‰
```

### âŒ SQLite ì˜¤ë¥˜
```
ì›ì¸: vmsi_sdm.db ì ê¹€
í•´ê²°:
1. ëª¨ë“  í”„ë¡œê·¸ë¨ ì¢…ë£Œ
2. vmsi_sdm.db ì‚­ì œ
3. python -c "from server.db import init_db; init_db()"
```

### âŒ ngrok "Tunnel not found"
```
ì›ì¸: ngrok ê³„ì • ì¸ì¦ ì•ˆ ë¨
í•´ê²°:
1. ngrok.com â†’ Sign in
2. Authtoken ë³µì‚¬
3. .\ngrok.exe config add-authtoken YOUR_TOKEN
```

---

## ğŸ’¡ Pro Tips

### Tip 1: ngrok ìœ ë£Œ í”Œëœ ($10/ì›”)
```
ì¥ì :
âœ… ê³ ì • URL (TradingView Alert ìˆ˜ì • ë¶ˆí•„ìš”)
âœ… ë¬´ì œí•œ ì„¸ì…˜ (2ì‹œê°„ ì œí•œ ì—†ìŒ)
âœ… ë¹ ë¥¸ ì†ë„

â†’ í¸ì˜ì„± í¬ê²Œ í–¥ìƒ!
```

### Tip 2: í•™ìŠµ ì‹œê°„ ì¡°ì •
```
run_learning.bat ìˆ˜ì •:
- --trials 200 â†’ 500 (ë” ê°•ë ¥í•œ í•™ìŠµ)
- --timeout 7200 â†’ 14400 (ë” ê¸´ ì‹œê°„)
```

### Tip 3: ë°±ì—…
```
ì •ê¸°ì ìœ¼ë¡œ ë°±ì—…:
- vmsi_sdm.db (ì‹ í˜¸ ë°ì´í„°)
- presets/*.json (í•™ìŠµ ê²°ê³¼)
```

---

## ğŸ“š ê´€ë ¨ ë¬¸ì„œ

- `07_TRADINGVIEW_ALERT_SETUP.md`: Alert ì„¤ì • ìƒì„¸
- `06_REFACTOR_SUMMARY.md`: Pine Script v2.1 ë³€ê²½ì‚¬í•­
- `02_QUICKSTART.md`: ë¹ ë¥¸ ì‹œì‘ ê°€ì´ë“œ

---

## ğŸ‰ ì™„ë£Œ!

```
âœ… ì™„ì „ ë¬´ë£Œ ì‹œìŠ¤í…œ êµ¬ì¶• ì™„ë£Œ!
âœ… ë¬´ì œí•œ í•™ìŠµ ê°€ëŠ¥!
âœ… ë¹ ë¥¸ ì†ë„!
âœ… ì™„ì „í•œ ë°ì´í„° ì œì–´!

ë¹„ìš©: $0/ì›”
ì„±ëŠ¥: í´ë¼ìš°ë“œë³´ë‹¤ ìš°ìˆ˜
ì œì–´: 100% ììœ 
```

---

**ì‘ì„±**: Cursor AI  
**ë‚ ì§œ**: 2025-10-29  
**ì „ëµ**: ngrok + ë¡œì»¬ (100% ë¬´ë£Œ, ë¬´ì œí•œ í•™ìŠµ)

ğŸ  **ë¡œì»¬ ìµœê³ ! PCì—ì„œ ëª¨ë“  ê²ƒì„!**


